name: <finalName>
version: v1.0.1
summary: <A cli to send events (messages) to Azure Event Hubs> //SUMARY
description: | //DESCRIPTION
  With this cli you can send events to event hubs in different ways.
  You can send single event, batch, with repetition and more. Make your life
  esier when debug event hubs application.
grade: stable
confinement: classic
base: core18

parts:
  <finalName>:
    plugin: nil
    build-snaps: [go]
    override-build: |
      snapcraftctl build
      export GOPATH=$SNAPCRAFT_PART_INSTALL/go
      export PATH=$GOPATH/bin:$PATH

      mkdir -p $GOPATH/src/github.com/azure-open-tools/
      cd $GOPATH/src/github.com/azure-open-tools/

      git clone --branch=$SNAPCRAFT_PROJECT_VERSION https://github.com/azure-open-tools/event-hubs-cli.git

      cd event-hubs-cli/<package>
      make build-release

      ls -lah $GOPATH/src/github.com/azure-open-tools/event-hubs-cli/
      cp $GOPATH/src/github.com/azure-open-tools/event-hubs-cli/<name>-linux-<arch>-<version> $SNAPCRAFT_PART_INSTALL/<finalName>

    build-packages:
      - git
      - gcc
      - make

apps:
  <finalName>-test:
    command: <finalName> --version